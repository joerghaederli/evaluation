---
- hosts: localhost
  gather_facts: false
  connection: local
  collections:
    - kubernetes.core
  environment:
    ENABLE_TURBO_MODE: 1
  vars:
    evaluation_cases_path: "{{ playbook_dir }}/TESTS.md"
    evaluation_results_path: "{{ playbook_dir }}/results.txt"
  vars_files:
  - teams.yml
  tasks:
  - name: Remove autogenerated files
    file:
      state: absent
      path: "{{ item }}"
    loop:
    - "{{ evaluation_cases_path }}"
    - "{{ evaluation_results_path }}"
  - include_role:
      name: evaluation
    loop: "{{ teams }}"